(this["webpackJsonpreact-redux-hook-ts-jest"]=this["webpackJsonpreact-redux-hook-ts-jest"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(34),o=n.n(c),i=(n(120),n(183)),s=n(103),u=n(192),l=n(102),d=n(17),p=(n(121),n(55)),j=function(){return Object(p.b)()},b=p.c,h=n(13),x=n(6),f=n(100),g=n.n(f),m=n(98),O=n.n(m),v=n(96),y=n.n(v),w=n(97),k=n.n(w),C=n(67),P=n.n(C),S=n(99),A=n.n(S),_=n(193),R=n(204),I=n(202),T=n(208),z=n(185),E=n(187),F=n(205),L=n(189),U=n(206),W=n(207),G=n(4),M=n(179),N=n(203),B=n(195),D="Movies",J={search:"Search",toprated:"Top rated",nowplaying:"Now Playing",upcoming:"Up Comming"},q=n(190),K=n(184),Z=n(14),H=n.n(Z),X=n(20),Y=n(28),$="630819923790-5hdg04l3dqmoj8bues9a7dnerf7trehs.apps.googleusercontent.com",Q="1dc2b196ec51b322a69db96aa1c90dc9",V=window.gapi,ee=function(){var e=Object(X.a)(H.a.mark((function e(){var t,n,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,e.next=4,new Promise((function(e,t){V.load("client:auth2",e)}));case 4:return e.next=6,window.gapi.auth2.init({client_id:$,scope:"https://www.googleapis.com/auth/youtube.readonly"});case 6:if(n=V.auth2.getAuthInstance(),!n.isSignedIn.get()){e.next=12;break}return e.abrupt("return",n.currentUser.Xd);case 12:if(t){e.next=16;break}return e.next=15,n.signIn();case 15:return e.abrupt("return",e.sent);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(X.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=V.auth2.getAuthInstance(),e.next=4,t.signOut();case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ne={email:"Anonymous",profilePictureURL:"https://assets.change.org/photos/3/pz/ur/IZPZUrJczRxOpDB-400x400-noPad.jpg?1528808989",fullName:"Anonymous",isAnonymous:!0},re=Object(Y.b)("auth/login",Object(X.a)(H.a.mark((function e(){var t,n,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.next=3,ee(t);case 3:return n=e.sent,e.abrupt("return",{email:n.it.Tt,profilePictureURL:n.it.kK,fullName:n.it.Se,isAnonymous:!1});case 5:case"end":return e.stop()}}),e)})))),ae=Object(Y.b)("auth/logout",function(){var e=Object(X.a)(H.a.mark((function e(t,n){var r,a,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,c=a(),null===(o=c.auth)||void 0===o||null===(r=o.account)||void 0===r?void 0:r.isAnonymous){e.next=5;break}return e.next=5,te();case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ce=Object(Y.c)({name:"auth",initialState:{account:null,status:"idle"},reducers:{loginAnonymous:function(e){e.account=ne}},extraReducers:function(e){e.addCase(re.pending,(function(e){e.status="loading"})).addCase(re.fulfilled,(function(e,t){e.status="idle",e.account=t.payload})).addCase(ae.pending,(function(e){e.status="loading"})).addCase(ae.fulfilled,(function(e){e.status="idle",e.account=null}))}}),oe=ce.actions.loginAnonymous,ie=function(e){return e.auth.account},se=ce.reducer,ue=n(2);var le=function(){var e=b(ie),t=j();return Object(ue.jsx)(K.a,{title:"Logout from "+(null===e||void 0===e?void 0:e.email),children:Object(ue.jsx)(_.a,{size:"large",color:"inherit",onClick:function(){return t(ae())},children:Object(ue.jsx)(q.a,{alt:null===e||void 0===e?void 0:e.fullName,src:null===e||void 0===e?void 0:e.profilePictureURL})})})},de=n(95),pe=n.n(de),je=n(94),be=n.n(je),he=n(198),xe=n(188),fe=n(200),ge=n(201),me=n(196),Oe=n(199),ve=n(194),ye=n(191),we=n(92),ke=n.n(we),Ce=function(e){var t=e.pathname.substring(1);return"upcoming"===t||"nowplaying"===t||"toprated"===t?t:"search"},Pe="https://api.themoviedb.org/3/",Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Pe+e+"?api_key="+Q+"&page="+t},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Pe+"search/movie?api_key="+Q+"&query="+t+"&page="+e},_e=function(){var e=Object(X.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Pe+"genre/movie/list?api_key="+Q);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.genres);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(X.a)(H.a.mark((function e(t){var n,r,a,c=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,e.prev=1,e.next=4,fetch(Ae(n,t));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(X.a)(H.a.mark((function e(){var t,n,r,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,e.prev=1,e.next=4,fetch(Se("movie/now_playing",t));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(X.a)(H.a.mark((function e(){var t,n,r,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,e.prev=1,e.next=4,fetch(Se("movie/upcoming",t));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(X.a)(H.a.mark((function e(){var t,n,r,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,e.prev=1,e.next=4,fetch(Se("movie/top_rated",t));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),Ee=n(16),Fe=n(80),Le=Object(Y.b)("movie/genre",Object(X.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.reduce((function(e,t){return Object(Fe.a)(Object(Fe.a)({},e),{},Object(x.a)({},t.id,t.name))}),{}))||{});case 4:case"end":return e.stop()}}),e)})))),Ue=Object(Y.b)("movie/search",Object(X.a)(H.a.mark((function e(){var t,n,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,Re(t,1);case 3:return n=e.sent,console.log(n),e.abrupt("return",(null===n||void 0===n?void 0:n.results)||[]);case 6:case"end":return e.stop()}}),e)})))),We=Object(Y.b)("movie/toprated",function(){var e=Object(X.a)(H.a.mark((function e(t,n){var r,a,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r(),c=a.movie,e.next=4,ze(c.topratedPage);case 4:return o=e.sent,e.abrupt("return",(null===o||void 0===o?void 0:o.results)||[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ge=Object(Y.b)("movie/nowplaying",function(){var e=Object(X.a)(H.a.mark((function e(t,n){var r,a,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r(),c=a.movie,e.next=4,Ie(c.nowplayingPage);case 4:return o=e.sent,e.abrupt("return",(null===o||void 0===o?void 0:o.results)||[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Me=Object(Y.b)("movie/upcoming",function(){var e=Object(X.a)(H.a.mark((function e(t,n){var r,a,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r(),c=a.movie,e.next=4,Te(c.upcomingPage);case 4:return o=e.sent,e.abrupt("return",(null===o||void 0===o?void 0:o.results)||[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ne=Object(Y.c)({name:"Movie",initialState:{genre:{},search:[],nowplaying:[],upcoming:[],toprated:[],nowplayingPage:1,upcomingPage:1,topratedPage:1,status:"idle"},reducers:{},extraReducers:function(e){e.addCase(Le.pending,(function(e){e.status="loading"})).addCase(Le.fulfilled,(function(e,t){e.status="idle",e.genre=t.payload})).addCase(Ue.pending,(function(e){e.status="loading"})).addCase(Ue.fulfilled,(function(e,t){e.status="idle",e.search=t.payload})).addCase(Ge.pending,(function(e){e.status="loading"})).addCase(Ge.fulfilled,(function(e,t){e.status="idle",e.nowplaying=[].concat(Object(Ee.a)(e.nowplaying),Object(Ee.a)(t.payload)),e.nowplayingPage++})).addCase(Me.pending,(function(e){e.status="loading"})).addCase(Me.fulfilled,(function(e,t){e.status="idle",e.upcoming=[].concat(Object(Ee.a)(e.upcoming),Object(Ee.a)(t.payload)),e.upcomingPage++})).addCase(We.pending,(function(e){e.status="loading"})).addCase(We.fulfilled,(function(e,t){e.status="idle",e.toprated=[].concat(Object(Ee.a)(e.toprated),Object(Ee.a)(t.payload)),e.topratedPage++}))}}),Be=function(e){return e.movie},De=Ne.reducer,Je=function(e,t){"toprated"===t?e(We()):"nowplaying"===t?e(Ge()):"upcoming"===t&&e(Me())};var qe=function(){var e=Object(d.i)().searchText,t=Object(d.h)(),n=Ce(t),a=b(Be),c=a[n],o=a.status,i=a.genre,s=j();return Object(r.useEffect)((function(){c.length||Je(s,n)}),[s,c,n]),Object(r.useEffect)((function(){e&&s(Ue(e))}),[s,e]),Object(r.useEffect)((function(){Object.keys(i).length||s(Le())}),[s,i]),Object(ue.jsx)(ve.a,{sx:{mt:8,py:4},maxWidth:"xl",children:Object(ue.jsxs)(ye.a,{container:!0,spacing:4,children:[!!e&&"loading"!==o&&!c.length&&Object(ue.jsx)(ye.a,{item:!0,xs:12,children:Object(ue.jsxs)(B.a,{component:"div",variant:"button",color:"primary",sx:{textAlign:"center"},children:["Nothing found ",Object(ue.jsx)(be.a,{sx:{verticalAlign:"middle"}})]})}),c.map((function(e){var t=e.id,n=e.title,r=e.overview,a=e.backdrop_path,c=e.vote_average,o=e.release_date,s=e.genre_ids;return Object(ue.jsx)(ye.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(ue.jsxs)(me.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(ue.jsx)(he.a,{titleTypographyProps:{variant:"subtitle2"},subheaderTypographyProps:{variant:"button"},title:n,subheader:Object(ue.jsxs)(ue.Fragment,{children:[o,Object(ue.jsx)(xe.a,{sx:{float:"right"},size:"small",name:"read-only",value:c/2,readOnly:!0})]})}),Object(ue.jsx)(Oe.a,{component:"img",sx:{backgroundColor:function(e){return e.palette.common.black}},image:a?"http://image.tmdb.org/t/p/w500/"+a:"/react-redux-hook-ts-jest/assets/placeholder_background.png",alt:"random"}),Object(ue.jsx)(fe.a,{sx:{flexGrow:1,px:1.5,pt:1.5},children:Object(ue.jsx)(B.a,{sx:{fontSize:12,color:function(e){return e.palette.text.secondary}},children:Object(ue.jsx)(ke.a,{line:3,element:"span",truncateText:"\u2026",text:r})})}),Object(ue.jsx)(fe.a,{sx:{px:1.5,pb:.5},children:Object(ue.jsx)(B.a,{variant:"button",color:"primary",sx:{fontSize:12},children:s.slice(0,3).map((function(e){return i[e]})).join(" / ")},t)})]})},t)})),!e&&"loading"!==o&&Object(ue.jsx)(ye.a,{item:!0,xs:12,children:Object(ue.jsxs)(ge.a,{variant:"outlined",onClick:function(){return Je(s,n)},children:[Object(ue.jsx)(pe.a,{sx:{mr:1}}),"More"]})})]})})},Ke=Object(G.a)("div")((function(e){var t=e.theme;return Object(x.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(M.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.a)(t.palette.common.white,.25)},marginLeft:0,marginRight:t.spacing(2),width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),Ze=Object(G.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),He=Object(G.a)(E.a)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(x.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),Xe=Object(G.a)(z.a)((function(e){e.theme;return{width:300,flexShrink:0,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box"}}}));function Ye(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(d.h)(),o=Object(d.g)(),i=b(Be).status,s=Ce(c),u=function(e){a(!1),o.push(e)};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(I.a,{position:"fixed",children:[Object(ue.jsxs)(N.a,{children:[Object(ue.jsx)(_.a,{size:"large",color:"inherit",sx:{mr:4},onClick:function(){return a(!0)},children:Object(ue.jsx)(y.a,{})}),Object(ue.jsx)(P.a,{color:"primary",sx:{mr:1}}),Object(ue.jsxs)(B.a,{variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:[D,Object(ue.jsx)(B.a,{variant:"button",color:"textSecondary",component:"span",sx:{ml:2},children:J[s]})]}),Object(ue.jsxs)(Ke,{children:[Object(ue.jsx)(Ze,{children:Object(ue.jsx)(k.a,{})}),Object(ue.jsx)(He,{onKeyPress:function(e){"Enter"===e.key&&o.push("/search/"+e.target.value)},placeholder:"Search \u23ce",inputProps:{"aria-label":"search"}})]}),Object(ue.jsx)(le,{})]}),"loading"===i&&Object(ue.jsx)(R.a,{})]}),Object(ue.jsx)("main",{children:Object(ue.jsx)(qe,{})}),Object(ue.jsx)(Xe,{anchor:"left",open:n,onClose:function(){return a(!1)},children:Object(ue.jsxs)(F.a,{children:[Object(ue.jsxs)(L.a,{button:!0,onClick:function(){return u("/toprated")},children:[Object(ue.jsx)(U.a,{children:Object(ue.jsx)(O.a,{})}),Object(ue.jsx)(W.a,{primary:"Top rated"})]}),Object(ue.jsx)(T.a,{}),Object(ue.jsxs)(L.a,{button:!0,onClick:function(){return u("/nowplaying")},children:[Object(ue.jsx)(U.a,{children:Object(ue.jsx)(A.a,{})}),Object(ue.jsx)(W.a,{primary:"Now Playing"})]}),Object(ue.jsxs)(L.a,{button:!0,onClick:function(){return u("/upcoming")},children:[Object(ue.jsx)(U.a,{children:Object(ue.jsx)(g.a,{})}),Object(ue.jsx)(W.a,{primary:"Up Comming"})]})]})})]})}var $e=n(209),Qe=n(182),Ve=n(101),et=n.n(Ve),tt=Object(G.a)(ge.a)((function(e){var t=e.theme;return{textTransform:"none",backgroundColor:t.palette.common.white,color:t.palette.grey[600],"&:hover":{backgroundColor:t.palette.grey[300]}}}));var nt=function(){var e=j();return Object(r.useEffect)((function(){e(re(!0))}),[e]),Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(tt,{variant:"contained",onClick:function(){return e(re())},children:[Object(ue.jsx)("img",{alt:"Google logo",src:"/react-redux-hook-ts-jest/assets/google_logo.svg",style:{marginRight:10}}),"Sign in with Google"]}),Object(ue.jsxs)(ge.a,{variant:"outlined",onClick:function(){return e(oe())},children:[Object(ue.jsx)(et.a,{sx:{mr:1}})," Anonymous"]})]})};function rt(){return Object(ue.jsxs)(B.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(ue.jsx)($e.a,{color:"inherit",href:"https://grachet.github.io/",children:"Guillaume Rachet"})," ",(new Date).getFullYear(),"."]})}function at(){return Object(ue.jsxs)(fe.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},children:[Object(ue.jsx)(I.a,{position:"relative",children:Object(ue.jsxs)(N.a,{children:[Object(ue.jsx)(P.a,{color:"primary",sx:{mr:1}}),Object(ue.jsx)(B.a,{variant:"h6",color:"inherit",noWrap:!0,children:D})]})}),Object(ue.jsx)(ve.a,{component:"main",maxWidth:"xl",sx:{flexGrow:1},children:Object(ue.jsxs)(ve.a,{maxWidth:"sm",sx:{mt:8},children:[Object(ue.jsx)(B.a,{component:"h1",variant:"h2",align:"center",color:"text.primary",gutterBottom:!0,children:D}),Object(ue.jsx)(B.a,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:"Find the movie you looking for and (not) much more."}),Object(ue.jsx)(Qe.a,{sx:{pt:4},direction:"row",spacing:2,justifyContent:"center",children:Object(ue.jsx)(nt,{})})]})}),Object(ue.jsx)(fe.a,{sx:{p:6},component:"footer",children:Object(ue.jsx)(rt,{})})]})}var ct=Object(s.a)({palette:{mode:"dark",primary:{main:"#FF0000"},secondary:{main:"#fff"}}});var ot=function(){var e=b(ie);return Object(ue.jsxs)(u.a,{theme:ct,children:[Object(ue.jsx)(i.a,{}),Object(ue.jsx)(l.a,{children:Object(ue.jsxs)(d.d,{children:[Object(ue.jsxs)(d.b,{path:"/login",children:[!!e&&Object(ue.jsx)(d.a,{to:"/toprated"}),Object(ue.jsx)(at,{})]}),Object(ue.jsxs)(d.b,{path:"/search/:searchText",children:[!e&&Object(ue.jsx)(d.a,{to:"/login"}),Object(ue.jsx)(Ye,{})]}),Object(ue.jsxs)(d.b,{path:"/toprated",children:[!e&&Object(ue.jsx)(d.a,{to:"/login"}),Object(ue.jsx)(Ye,{})]}),Object(ue.jsxs)(d.b,{path:"/nowplaying",children:[!e&&Object(ue.jsx)(d.a,{to:"/login"}),Object(ue.jsx)(Ye,{})]}),Object(ue.jsxs)(d.b,{path:"/upcoming",children:[!e&&Object(ue.jsx)(d.a,{to:"/login"}),Object(ue.jsx)(Ye,{})]}),Object(ue.jsx)(d.b,{path:"/",children:Object(ue.jsx)(d.a,{to:"/toprated"})})]})})]})},it=Object(Y.a)({reducer:{auth:se,movie:De}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(ue.jsx)(a.a.StrictMode,{children:Object(ue.jsx)(p.a,{store:it,children:Object(ue.jsx)(ot,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.5b50a076.chunk.js.map